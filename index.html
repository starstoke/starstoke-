<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Previous head content remains unchanged -->
</head>
<body>
  <div id="vanta-bg"></div>
  <div class="grain-overlay"></div>

  <!-- Previous nav and other sections remain unchanged -->

  <div class="content-wrapper">
    <div class="container">
      <!-- Previous header, news, shop, etc. remain unchanged -->

      <section class="section" id="artists">
        <h2 class="section-title">Artists</h2>
        <div class="artist-carousel">
          <div class="artist-grid">
            <div class="card artist-card" onclick="window.open('artists/slut-online.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=Slut+Online" alt="Slut Online" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">Slut Online</h3>
              </div>
            </div>
            <div class="card artist-card" onclick="window.open('artists/lindtayl0r.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=lindtayl0r" alt="lindtayl0r" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">lindtayl0r</h3>
              </div>
            </div>
            <div class="card artist-card" onclick="window.open('artists/keisha-pifagor.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=Keisha+Pifagor" alt="Keisha Pifagor" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">Keisha Pifagor</h3>
              </div>
            </div>
            <div class="card artist-card" onclick="window.open('artists/james-hunt.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=James+Hunt" alt="James Hunt" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">James Hunt</h3>
              </div>
            </div>
            <div class="card artist-card" onclick="window.open('artists/xsdc.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=XSDC" alt="XSDC" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">XSDC</h3>
              </div>
            </div>
            <div class="card artist-card" onclick="window.open('artists/nexxxus.html', '_blank');">
              <img src="https://via.placeholder.com/280x400?text=NexXxus" alt="NexXxus" loading="lazy">
              <div class="artist-info">
                <h3 class="card-title">NexXxus</h3>
              </div>
            </div>
          </div>
          <div class="artist-controls">
            <div class="artist-control prev">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 2L4 8L10 14" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="artist-control next">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 2L12 8L6 14" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
          </div>
        </div>
      </section>

      <!-- Remaining sections (tv, about, contact, check-this-out, footer) remain unchanged -->

    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.net.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Scroll to top on page load
      window.scrollTo(0, 0);

      // Initialize Vanta.js with mobile optimization
      try {
        const isMobile = window.innerWidth <= 768;
        let vantaEffect = VANTA.NET({
          el: "#vanta-bg",
          mouseControls: !isMobile,
          touchControls: isMobile,
          gyroControls: false,
          minHeight: 200.00,
          minWidth: 200.00,
          scale: 1.00,
          scaleMobile: 1.00,
          color: 0xFFF8E1,
          backgroundColor: 0x000000,
          points: isMobile ? 8.0 : 15.0,
          maxDistance: isMobile ? 18.0 : 25.0,
          spacing: isMobile ? 12.0 : 18.0,
          showDots: true,
          lineOpacity: isMobile ? 0.15 : 0.25
        });

        // Simplified Vanta animation for better performance
        if (!isMobile) {
          function animateVanta() {
            if (vantaEffect && vantaEffect.three && vantaEffect.three.camera) {
              vantaEffect.three.camera.rotation.y += 0.0002;
            }
            requestAnimationFrame(animateVanta);
          }
          animateVanta();

          const colors = [0xFFF8E1, 0xFFE0B2, 0xFFCCBC, 0xB2EBF2];
          let currentColorIndex = 0;
          function changeColor() {
            const nextColorIndex = (currentColorIndex + 1) % colors.length;
            const startColor = colors[currentColorIndex];
            const endColor = colors[nextColorIndex];
            let progress = 0;

            function interpolateColor() {
              progress += 0.02;
              if (progress >= 1) {
                currentColorIndex = nextColorIndex;
                vantaEffect.setOptions({ color: endColor, lineOpacity: isMobile ? 0.15 : 0.25 });
                setTimeout(changeColor, 6000);
                return;
              }
              const r = Math.floor((1 - progress) * ((startColor >> 16) & 255) + progress * ((endColor >> 16) & 255));
              const g = Math.floor((1 - progress) * ((startColor >> 8) & 255) + progress * ((endColor >> 8) & 255));
              const b = Math.floor((1 - progress) * (startColor & 255) + progress * (endColor & 255));
              const newColor = (r << 16) + (g << 8) + b;
              vantaEffect.setOptions({ color: newColor, lineOpacity: isMobile ? 0.15 : 0.25 });
              requestAnimationFrame(interpolateColor);
            }
            interpolateColor();
          }
          setTimeout(changeColor, 6000);
        }
      } catch (error) {
        console.error('Vanta.js failed to initialize:', error);
        document.getElementById('vanta-bg').style.background = '#000';
      }

      // Section visibility observer
      const sections = document.querySelectorAll('.section');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.15,
        rootMargin: '0px 0px -80px 0px'
      });

      sections.forEach(section => observer.observe(section));

      // Smooth scrolling for nav links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const target = document.querySelector(targetId);
          if (target) {
            const offset = 70; // Adjusted for fixed nav height
            const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;
            window.scrollTo({
              top: elementPosition - offset,
              behavior: 'smooth'
            });
          }
        });
      });

      // News banner carousel
      const newsBannerItems = document.querySelectorAll('.news-banner-item');
      const newsBannerControls = document.querySelectorAll('.news-banner-control');
      let currentNewsIndex = 0;

      function showNewsBannerItem(index) {
        newsBannerItems.forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
        newsBannerControls.forEach((control, i) => {
          control.classList.toggle('active', i === index);
        });
        currentNewsIndex = index;
      }

      newsBannerControls.forEach((control, index) => {
        control.addEventListener('click', () => showNewsBannerItem(index));
      });

      setInterval(() => {
        const nextNewsIndex = (currentNewsIndex + 1) % newsBannerItems.length;
        showNewsBannerItem(nextNewsIndex);
      }, 6000);

      // TV showcase carousel
      const tvItems = document.querySelectorAll('.tv-item');
      const tvControls = document.querySelectorAll('.tv-control');
      let currentTvIndex = 0;

      function showTvItem(index) {
        tvItems.forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
        tvControls.forEach((control, i) => {
          control.classList.toggle('active', i === index);
        });
        currentTvIndex = index;
      }

      tvControls.forEach((control, index) => {
        control.addEventListener('click', () => showTvItem(index));
      });

      setInterval(() => {
        const nextTvIndex = (currentTvIndex + 1) % tvItems.length;
        showTvItem(nextTvIndex);
      }, 6000);

      // Merch carousel
      const merchItems = document.querySelectorAll('.merch-item');
      const merchControls = document.querySelectorAll('.merch-control');
      let currentMerchIndex = 0;

      function showMerchItem(index) {
        merchItems.forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
        merchControls.forEach((control, i) => {
          control.classList.toggle('active', i === index);
        });
        currentMerchIndex = index;
      }

      merchControls.forEach((control, index) => {
        control.addEventListener('click', () => showMerchItem(index));
      });

      setInterval(() => {
        const nextMerchIndex = (currentMerchIndex + 1) % merchItems.length;
        showMerchItem(nextMerchIndex);
      }, 6000);

      // Artist carousel
      const artistGrid = document.querySelector('.artist-grid');
      const artistCards = document.querySelectorAll('.artist-card');
      const artistControls = document.querySelectorAll('.artist-control');
      let currentArtistIndex = 0;
      const totalArtists = artistCards.length;

      function showArtistItem(index) {
        index = (index + totalArtists) % totalArtists;
        const isMobile = window.innerWidth <= 768;
        const translateValue = isMobile ? -index * 100 : -index * (100 / 3);
        artistGrid.style.transform = `translateX(${translateValue}%)`;
        currentArtistIndex = index;
      }

      artistControls.forEach(control => {
        control.addEventListener('click', () => {
          if (control.classList.contains('prev')) {
            showArtistItem(currentArtistIndex - 1);
          } else if (control.classList.contains('next')) {
            showArtistItem(currentArtistIndex + 1);
          }
        });
      });

      setInterval(() => {
        showArtistItem(currentArtistIndex + 1);
      }, 6000);

      // Handle window resize
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          showArtistItem(currentArtistIndex);
        }, 100);
      });

      // Currency selector
      const currencyButtons = document.querySelectorAll('.currency-btn');
      const prices = document.querySelectorAll('.card-price .currency');
      currencyButtons.forEach(button => {
        button.addEventListener('click', () => {
          currencyButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          const currency = button.dataset.currency;
          prices.forEach(price => {
            price.textContent = currency;
          });
        });
      });

      // Contact form submission
      const contactForm = document.getElementById('contact-form');
      if (contactForm) {
        contactForm.addEventListener('submit', function(event) {
          event.preventDefault();
          const form = event.target;
          fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
          }).then(response => {
            if (response.ok) {
              alert('Message sent successfully!');
              form.reset();
            } else {
              alert('Error sending message. Please try again.');
            }
          }).catch(error => {
            alert('Error sending message. Please try again.');
          });
        });
      }
    });
  </script>
</body>
</html>